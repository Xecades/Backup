(function(b,d){var c=(function(){var e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];var g={};for(var h=0;h<e.length;h++){var k=e[h];if(k&&k[1] in b){for(var f=0;f<k.length;f++){g[e[0][f]]=k[f]}return g}}return false})();if(!c){if(d&&d.fancybox){d.fancybox.defaults.btnTpl.fullScreen=false}return}var a={request:function(e){e=e||b.documentElement;e[c.requestFullscreen](e.ALLOW_KEYBOARD_INPUT)},exit:function(){b[c.exitFullscreen]()},toggle:function(e){e=e||b.documentElement;if(this.isFullscreen()){this.exit()}else{this.request(e)}},isFullscreen:function(){return Boolean(b[c.fullscreenElement])},enabled:function(){return Boolean(b[c.fullscreenEnabled])}};d.extend(true,d.fancybox.defaults,{btnTpl:{fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fullscreen" title="{{FULL_SCREEN}}">'+'<svg viewBox="0 0 40 40">'+'<path d="M9,12 v16 h22 v-16 h-22 v8" />'+"</svg>"+"</button>"},fullScreen:{autoStart:false}});d(b).on({"onInit.fb":function(g,f){var h;if(f&&f.group[f.currIndex].opts.fullScreen){h=f.$refs.container;h.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(i){i.stopPropagation();i.preventDefault();a.toggle()});if(f.opts.fullScreen&&f.opts.fullScreen.autoStart===true){a.request()}f.FullScreen=a}else{if(f){f.$refs.toolbar.find("[data-fancybox-fullscreen]").hide()}}},"afterKeydown.fb":function(j,g,i,h,f){if(g&&g.FullScreen&&f===70){h.preventDefault();g.FullScreen.toggle()}},"beforeClose.fb":function(g,f){if(f&&f.FullScreen&&f.$refs.container.hasClass("fancybox-is-fullscreen")){a.exit()}}});d(b).on(c.fullscreenchange,function(){var f=a.isFullscreen(),e=d.fancybox.getInstance();if(e){if(e.current&&e.current.type==="image"&&e.isAnimating){e.current.$content.css("transition","none");e.isAnimating=false;e.update(true,true,0)}e.trigger("onFullscreenChange",f);e.$refs.container.toggleClass("fancybox-is-fullscreen",f)}})})(document,window.jQuery||jQuery);