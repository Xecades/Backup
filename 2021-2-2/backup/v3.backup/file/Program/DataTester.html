<html>

<head>
    <title>DataTester.cpp</title>
    <!--导入js库-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.6/ace.js" type="text/javascript" charset="utf-8"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.6/ext-language_tools.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>
    <!--代码输入框（注意请务必设置高度，否则无法显示）-->
    <pre id="code" class="ace_editor" style="min-height:10000"><textarea class="ace_text-input">//compile this file and follow the guide
#include <windows.h>
#include <iostream>
#include <ctime>
using namespace std;

clock_t start,end;
double endtime;

int main(int argc, char *argv[])
{
	if (argc != 3)
	{
		cout << "Two files required" << endl;
		cout << "[HELP]" << endl;
		cout << "Format: $ DataTester [source] [data]" << endl << endl;
		cout << "source - source file path(Compiled)" << endl;
		cout << "data - data maker path(Compiled)" << endl;
		return -1;
	}
	cout << "Source file: " << argv[1] << endl;
	cout << "Data maker: " << argv[2] << endl;
	cout << "Continue[y/n]:";
	char ch = getchar();
	if (ch == 'n')
	{
		cout << "Quit";
		return 0;
	}
	system("cls");
	system("@echo off");
	
	string run1 = (string)argv[2] + " > testdata.txt";
	string run2 = (string)argv[1] + " < testdata.txt > output.txt";
	
	ch = ' ';
	int cnt = 0;
	double tot_time = 0;
	
	while (ch != 'q' && ch != 'Q')
	{
		system(run1.c_str()); start = clock();
		system(run2.c_str()); end = clock();
		endtime = (double)(end - start) / CLOCKS_PER_SEC;
		cout << "(start) " << (double)start / CLOCKS_PER_SEC << endl;
		cout << "( end ) " << (double)end / CLOCKS_PER_SEC << endl;
		cout << "_______________________________________________________________________________" << endl;
		cout << endtime * 1000 << "ms";
		ch = getchar();
		system("cls");
		cnt++;
	}
	cout << "Total run: " << cnt << endl;
	cout << "Total time: " << tot_time * 1000 << "ms" << endl;
	cout << "Ave: " << tot_time * 1000 / cnt << "ms" << endl;
	cout << "Quit";
	return 0;
}</textarea></pre>
    <script>
        //初始化对象
        editor = ace.edit("code");
        //设置风格和语言（更多风格和语言，请到github上相应目录查看）
        theme = "clouds"
        language = "c_cpp"
        editor.setTheme("ace/theme/" + theme);
        editor.session.setMode("ace/mode/" + language);
        //字体大小
        editor.setFontSize(19);

        //设置只读（true时只读，用于展示代码）
        editor.setReadOnly(true);

        //自动换行,设置为off关闭
        editor.setOption("wrap", "free")

        //启用提示菜单
        ace.require("ace/ext/language_tools");
        editor.setOptions({
            enableBasicAutocompletion: true,
            enableSnippets: true,
            enableLiveAutocompletion: true
        });
    </script>
</body>

</html>